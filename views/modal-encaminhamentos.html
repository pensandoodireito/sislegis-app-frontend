<!-- Modal Encaminhamentos -->
<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" ng-click="ok()">
		<span aria-hidden="true">&times;</span> <span class="sr-only">Fechar</span>
	</button>
	<h4 class="modal-title" id="myModalLabel">Encaminhamentos</h4>
</div>
<div class="modal-body">
	<div class="row">
		<form id="EncaminhamentoProposicaoForm" name="EncaminhamentoProposicaoForm" role="form">
			<div class="col-md-4">
					<div class="form-horizontal" role="form">
				    <div ng-show="displayError" class="alert alert-danger">
				        <strong>Error!</strong> Something broke. Retry, or cancel and start afresh.
				    </div>
					<div class="input-group">
						<label for="tipo-encaminhamento">Tipo de Encaminhamento</label>
						<select id="tipo-encaminhamento" ng-model="encaminhamentoProposicao.encaminhamento"
                                ng-options="encaminhamento.nome for encaminhamento in listaEncaminhamento track by encaminhamento.id | orderBy:'nome'" class="form-control" ng-required="true"></select>
					</div>
					<br/>
					<div class="input-group">
						<label for="responsavel">Respons치vel:</label>
                        <input id="responsavel" autocomplete="off" type="text" ng-model="encaminhamentoProposicao.responsavel" placeholder="Procurar usu치rio..."
                               typeahead="item as item.nome for item in getUsuarios($viewValue)" class="form-control">
					</div>
					<br/>
					<label for="prazo">Data e Hora Limite:</label>
					<div class="input-group">
						<input id="prazo" type="text" class="form-control" datepicker-popup="{{format}}" ng-model="encaminhamentoProposicao.dataHoraLimite" is-open="opened" min-date="minDate" max-date="'2020-06-22'" datepicker-options="dateOptions" close-text="Close" readonly/>
			              <span class="input-group-btn">
			                <button type="button" class="btn btn-default" ng-click="openCalendar($event)"><i class="glyphicon glyphicon-calendar"></i></button>
			              </span>
		          	</div>    
					<div class="input-group">
			              <timepicker ng-model="encaminhamentoProposicao.dataHoraLimite" show-meridian="false"></timepicker>
					</div>
					<br/>
					<div class="input-group">
                    <label for="detalhes">Detalhes:</label>
						<textarea id="detalhes" class="form-control" rows="3" ng-model="encaminhamentoProposicao.comentario.descricao"></textarea>
					</div>
					<br/>
					
					<button type="submit" class="btn btn-default" ng-disabled="isClean() || EncaminhamentoProposicaoForm.$invalid" ng-show="!encaminhamentoProposicao.id" ng-click="save()">Adicionar</button>
					<button type="submit" class="btn btn-default" ng-show="encaminhamentoProposicao.id" ng-click="update()">Alterar</button>
				</div>
			</div>
		</form>
		<div class="col-md-8">
			<div class="panel panel-default">
				<div class="panel-heading">Encaminhamentos</div>
				<div class="panel-body line-9 rol-vert fontsize-sm">
					<div class="list-group" ng-repeat="item in proposicao.listaEncaminhamentoProposicao">
						<div class="divider-bottom">
							<p><strong>{{item.encaminhamento.nome}}</strong></p>
							<p  ng-show="item.responsavel.nome!=null" ><strong>Respons치vel: </strong>{{item.responsavel.nome}}</p>
							<p ng-show="item.responsavel.nome==null" ><strong>Sem respons치vel associado</strong></p>
							<p ng-show="item.responsavel.dataHoraLimite!=null"><strong>Data e Hora Limite: </strong>{{item.dataHoraLimite | date: 'dd/MM/yyyy HH:mm'}}</p>
							<p ng-show="item.responsavel.dataHoraLimite==null" ><strong>Sem data limite associada</strong></p>
							<p>{{item.comentario.descricao}}</p>
							<div class="mt-sm">
								<p>
									Feito por: <strong >{{item.comentario.autor.nome}}</strong> <span class="ml-lg">Data: {{item.comentario.dataCriacao | date: 'dd/MM/yyyy'}}<span class="ml-lg"><a ng-click="openUpdate(item)"> Alterar</a>
									</span>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
<!-- /Modal Encaminhamentos -->
